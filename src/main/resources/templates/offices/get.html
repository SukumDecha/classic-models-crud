<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Offices List</title>
</head>
    <div class="container my-4">
        <form class="flex item-center" method="get" action="/offices/search">
            <label for="keyword">Search Offices</label>
            <input type="text" id="keyword" name="keyword" placeholder="Enter here">
            <button type="submit">Search</button>
        </form>

        <form class="mb-4 flex item-center" method="get" action="/offices/searchByCity">
            <label for="city" class="me-2 mb-2">Filter by City</label>
            <select id="city" name="city" class="form-select">
                <option value="">Select City</option>
                <option th:each="c : ${cities}" th:value="${c}" th:text="${c}"></option>
            </select>
            <button type="submit" class="btn btn-primary mt-2">Search</button>
        </form>

        <h2 class="text-center mb-4">Office List</h2>
        <div class="row font-weight-bold bg-light" th:if="${offices == null || offices.isEmpty()}">
            <h2 class="text-danger text-center">This office doesn't existed</h2>
        </div>
        <div class="row font-weight-bold bg-light" th:unless="${offices == null || offices.isEmpty()}">
            <div class="col-2">Office Code</div>
            <div class="col-2">City</div>
            <div class="col-2">State</div>
            <div class="col-2">Country</div>
            <div class="col-2">Postal Code</div>
            <div class="col-4">Action</div>
        </div>
        <div class="row" th:each="o : ${offices}">
            <div class="col-2" th:text="${o.officeCode}"></div>
            <div class="col-2" th:text="${o.city}"></div>
            <div class="col-2" th:text="${o.state}"></div>
            <div class="col-2" th:text="${o.country}"></div>
            <div class="col-2" th:text="${o.postalCode}"></div>
            <div class="col-1 flex item-center">
                <a th:href="@{'/offices/update?officeId=' + ${o.officeCode}}">Update</a>
            </div>
        </div>
    </div>

    <a href="/offices/create">
        Click to create office
    </a>
</html>